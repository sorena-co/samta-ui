<div>
    <style type="text/css">
        .time {
            direction: ltr;
            align-self: center;
        }

        .date {
            align-self: center;
        }

        .time .form-control {
            width: 100%;
        }

        ng2-datetimepicker.form-control {
            padding: 0;
        }

        .datetime {
            padding: 0;
            position: absolute;

            z-index: 1000;
            display: none;
            float: left;
            min-width: 10rem;
            margin: .125rem 0 0;
            font-size: 1rem;
            color: #292b2c;
            text-align: left;
            list-style: none;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid rgba(0, 0, 0, .15);
            border-radius: .25rem;
        }

        .datetime.rtl .ngb-dp-navigation-chevron::before {
            transform: rotate(45deg) !important;
            -webkit-transform: rotate(45deg) !important;
            -ms-transform: rotate(45deg) !important;
            margin: 0 0.5rem 0 0 !important;
        }

        .datetime.rtl .ngb-dp-navigation-chevron.right:before {
            -webkit-transform: rotate(225deg) !important;
            -ms-transform: rotate(225deg) !important;
            transform: rotate(225deg) !important;
            margin: 0 0 0 0.5rem !important;
        }

        .ml-3 {
            margin-right: 0 !important;
        }

        .btn-full {
            width: 100%;
        }

        .rtl-btn {
            margin-right: 0;
            border-color: #ced4da;
            border-width: 0 1px 0 0;
            border-radius: .25rem 0 0 .25rem;
        }

        .ltr-btn {
            margin-left: 0;
            border-color: #ced4da;
            border-width: 0 0 0 1px;
            border-radius: 0 .25rem .25rem 0;
        }

    </style>
    <div [class.has-danger]="!getValidDate()" class="input-group" style="border-width: 1px 0 0 0;"
         [dir]="rtlActive === false ? 'ltr' : 'rtl'">
        <input #inp class="textInput form-control" style="border: 0; direction: ltr"
               [disabled]="disabled"
               [placeholder]="'yyyy/mm/dd' + (disableTime ? '' : ' HH:MM')"
               [mask]="'0000/00/00' + (disableTime ? '' :' 00:00')"
               [(ngModel)]="_dateTimeFormat" (blur)="inputBlur()"
               name="dp" autocomplete="off"
               (focus)="onMouseClick(dp)">
    </div>
    <div [style.visibility]="!overlayVisible ? 'hidden' : 'visible'" class="d-inline-block rounded datetime"
         [ngClass]="{rtl: rtlActive === false && dir === 'rtl'}" style="padding: 0;">
        <ngb-datepicker #dp (click)="_panelClick = true" [(ngModel)]="_date" [displayMonths]="displayMonths"
                        (ngModelChange)="changedDate()" [maxDate]="maxDate" [minDate]="minDate"
                        [firstDayOfWeek]="6"></ngb-datepicker>
        <div class="d-flex justify-content-center btn-group btn-group-sm" role="group" aria-label="Small button group">
            <button type="button" (click)="selectToday(dp)" class="btn btn-primary btn-full">امروز</button>
            <button type="button" (click)="clear()" class="btn btn-danger" style="width: 50px">&times;</button>
        </div>

        <div *ngIf="!disableTime" [class.has-danger]="!getValidTime()"
             class="time d-block d-flex justify-content-center" style="display: flex;"
             dir="ltr">
            <ngb-timepicker [(ngModel)]="_time" (ngModelChange)="changedTime()" dir="ltr"></ngb-timepicker>
        </div>
    </div>
</div>

