<form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">

    <div class="modal-header">
        <h4 *ngIf="role.id==null" class="modal-title" id="createLabel"
            jhiTranslate="niopdcgatewayApp.role.home.createLabel">
            Create</h4>
        <h4 *ngIf="role.id!=null && !isView" class="modal-title" id="editLabel"
            jhiTranslate="niopdcgatewayApp.role.home.createOrEditLabel">
            Edit</h4>
        <h4 *ngIf="isView" class="modal-title" id="viewLabel" jhiTranslate="niopdcgatewayApp.role.home.view">
            View</h4>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                (click)="clear()">&times;
        </button>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <div class="row">
            <div class="col-md-6">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="niopdcgatewayApp.role.name"
                                   for="field_name">Name</label>
                            <input type="text" class="form-control" name="name" id="field_name"
                                   [(ngModel)]="role.name"
                                   required minlength="3" maxlength="42"/>
                            <div [hidden]="!(editForm.controls.name?.dirty && editForm.controls.name?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.name?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.name?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength"
                                       translateValues="{ min: 3 }">
                                    This field is required to be at least 3 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.name?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength"
                                       translateValues="{ max: 42 }">
                                    This field cannot be longer than 42 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-5">
                        <label class="form-control-label" jhiTranslate="niopdcgatewayApp.role.userType"
                               for="field_roleType">userType</label>
                        <select [disabled]="isView" class="form-control" name="userType"
                                [(ngModel)]="role.userType" id="field_userType" required>
                            <option *ngIf="currentUserType==='HEAD'" value="HEAD">{{'niopdcgatewayApp.userType.HEAD'| translate}}</option>
                            <option *ngIf="currentUserType==='HEAD'||currentUserType==='AREA'" value="AREA">{{'niopdcgatewayApp.userType.AREA' | translate}}</option>
                            <option *ngIf="currentUserType==='HEAD'||currentUserType==='REFUEL_CENTER'"value="REFUEL_CENTER">{{'niopdcgatewayApp.userType.REFUEL_CENTER' |translate}}</option>
                            <option *ngIf="currentUserType==='HEAD'||currentUserType==='AREA'||currentUserType==='ZONE'"value="ZONE">{{'niopdcgatewayApp.userType.ZONE' | translate}}</option>
                        </select>
                    </div>
                    <div *jhiHasAnyAuthority="['ROLE_ADMIN']" class="col-md-5">
                        <label class="form-control-label" jhiTranslate="niopdcgatewayApp.role.roleType"
                               for="field_roleType">Oil Tank Type</label>
                        <select [disabled]="isView" class="form-control" name="roleType"
                                [(ngModel)]="role.roleType" id="field_roleType" required>
                            <option value="ROLE">{{'niopdcgatewayApp.role.ROLE' | translate}}</option>
                            <option value="PERSON">{{'niopdcgatewayApp.role.PERSON' | translate}}
                            </option>
                        </select>
                    </div>
                    <div class="col-md-2">
                        <div class="row">
                            <div  class="form-group">
                                <input type="checkbox" class="form-control" name="activated" id="field_activated"
                                       [(ngModel)]="role.activated"
                                />
                                <label class="form-control-label" jhiTranslate="niopdcgatewayApp.role.activated"
                                       for="field_activated">Activated</label>
                                <div
                                    [hidden]="!(editForm.controls.activated?.dirty && editForm.controls.activated?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.activated?.errors?.required"
                                           jhiTranslate="entity.validation.required">
                                        This field is required.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">

                <label jhiTranslate="niopdcgatewayApp.role.authorities" for="field_authorities">Authorities</label>
                <div class="form-group">
                    <app-authority-selector class="form-control" id="field_authorities"
                                            [disabled]="isView"
                                            (onAuthorities)="authoritiesSelected($event)"
                                            (onDenyAuthorities)="denyAuthoritiesSelected($event)"
                                            [authGroup]="parentAuthorities"
                                            [authorities]="authorities1"
                                            [denyAuthorities]="denyAuthorities1"
                                            [enableAuthorities]="canAuth">
                    </app-authority-selector>
                </div>

            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" (click)="clear()">
            <span class="fa fa-ban"></span>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
        </button>
        <button type="submit" [disabled]="editForm.form.invalid || isSaving" class="btn btn-primary">
            <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
        </button>
    </div>
</form>
