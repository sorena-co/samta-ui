<form name="editForm" role="form" novalidate (ngSubmit)="save()" #editForm="ngForm">
    <div style="margin: 15px">
        <p-breadcrumb [model]="mapSiteItems"></p-breadcrumb>
    </div>
    <div class="modal-body">
        <jhi-alert-error></jhi-alert-error>
        <!--sellContract-->
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0"
                    jhiTranslate="samtagatewayApp.customer.home.detail">
                    Create or edit a Customer
                </h5>
            </div>
            <div class="card-block container">
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="samtagatewayApp.sellContract.contractNo"
                                   for="field_contractNo">Contract No</label>
                            <input disabled type="text" class="form-control" name="contractNo"
                                   id="field_contractNo"
                                   [(ngModel)]="sellContract.contractNo"
                                   numeric
                                   required minlength="5" maxlength="15"/>
                            <div
                                [hidden]="!(editForm.controls.contractNo?.dirty && editForm.controls.contractNo?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.contractNo?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.contractNo?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength" translateValues="{ min: 5 }">
                                    This field is required to be at least 5 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.contractNo?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength" translateValues="{ max: 15 }">
                                    This field cannot be longer than 15 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label" jhiTranslate="samtagatewayApp.sellContract.contractType"
                                   for="field_contractType">Contract Type</label>
                            <select
                                [disabled]="isView || sellContract.id || sellContract.sellContractCustomers?.length > 0 || customerCreate || sellContractCustomerEdit"
                                class="form-control" name="contractType"
                                [(ngModel)]="sellContract.contractType"
                                id="field_contractType"
                                required>
                                <option [ngValue]="contractTypeOption"
                                        *ngFor="let contractTypeOption of contractTypes">
                                    {{('samtagatewayApp.ContractType.' + contractTypeOption) |
                                    translate}}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4 vertical-center-group">
                        <div class="form-group">
                            <input [disabled]="isView" type="checkbox" class="form-control"
                                   name="calculateTax"
                                   id="field_calculateTax"
                                   [(ngModel)]="sellContract.calculateTax"
                            />
                            <label class="form-control-label" jhiTranslate="samtagatewayApp.sellContract.calculateTax"
                                   for="field_calculateTax">Calculate Tax</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="samtagatewayApp.sellContract.startDate"
                                   for="field_startDate">Start Date</label>
                            <div class="d-flex">
                                <ng2-datetimepicker [disableTime]="true" [disabled]="isView || sellContract.id"
                                                    id="field_startDate"
                                                    type="datetime-local"
                                                    class="form-control"
                                                    name="startDate"
                                                    [rtlActive]="true"
                                                    time="00:00:00"
                                                    [(ngModel)]="sellContract.startDate"
                                                    required></ng2-datetimepicker>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.startDate?.dirty && editForm.controls.startDate?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.startDate?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.startDate?.errors?.ZonedDateTimelocal"
                                       jhiTranslate="entity.validation.ZonedDateTimelocal">
                                    This field should be a date and time.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="samtagatewayApp.sellContract.finishDate"
                                   for="field_finishDate">Finish Date</label>
                            <div class="d-flex">
                                <ng2-datetimepicker [disableTime]="true" [disabled]="isView" id="field_finishDate"
                                                    type="datetime-local"
                                                    class="form-control"
                                                    name="finishDate"
                                                    [rtlActive]="true"
                                                    time="23:59:59"
                                                    [(ngModel)]="sellContract.finishDate"
                                                    required></ng2-datetimepicker>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.finishDate?.dirty && editForm.controls.finishDate?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.finishDate?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.finishDate?.errors?.ZonedDateTimelocal"
                                       jhiTranslate="entity.validation.ZonedDateTimelocal">
                                    This field should be a date and time.
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="samtagatewayApp.sellContract.exportationDate"
                                   for="field_exportationDate">Exportation Date</label>
                            <div class="d-flex">
                                <ng2-datetimepicker [disableTime]="true" [disabled]="isView || sellContract.id"
                                                    id="field_exportationDate"
                                                    type="datetime-local"
                                                    class="form-control"
                                                    name="exportationDate"
                                                    [rtlActive]="true"
                                                    time="00:00:00"
                                                    [(ngModel)]="sellContract.exportationDate"
                                                    required></ng2-datetimepicker>
                            </div>
                            <div
                                [hidden]="!(editForm.controls.exportationDate?.dirty && editForm.controls.exportationDate?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.exportationDate?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.exportationDate?.errors?.ZonedDateTimelocal"
                                       jhiTranslate="entity.validation.ZonedDateTimelocal">
                                    This field should be a date and time.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12 col-md-12">
                        <div class="form-group">
                            <label class="form-control-label"
                                   jhiTranslate="samtagatewayApp.sellContract.description"
                                   for="field_description">Description</label>
                            <textarea [disabled]="isView" type="text" class="form-control" name="description"
                                      id="field_description"
                                      [(ngModel)]="sellContract.description"
                                      minlength="3" maxlength="255">
                            </textarea>
                            <div
                                [hidden]="!(editForm.controls.description?.dirty && editForm.controls.description?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.description?.errors?.minlength"
                                       jhiTranslate="entity.validation.minlength" translateValues="{ min: 3 }">
                                    This field is required to be at least 3 characters.
                                </small>
                                <small class="form-text text-danger"
                                       [hidden]="!editForm.controls.description?.errors?.maxlength"
                                       jhiTranslate="entity.validation.maxlength" translateValues="{ max: 255 }">
                                    This field cannot be longer than 255 characters.
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br/>
        <!--sellContractPerson-->
        <div class="card">
            <div class="card-header">

                <div class="row">
                    <h5 class="col-md-3"
                        jhiTranslate="samtagatewayApp.sellContractPerson.home.cardTitle">
                        Create or edit
                    </h5>
                    <div class="col-md-8"></div>
                    <button type="button" class="" *ngIf="!isView" class="btn btn-primary col-md-1"
                            [disabled]="isView" (click)="newSellContractPerson()">
                        <span class="fa fa-plus"></span>
                        <span jhiTranslate="entity.action.create">Create</span>
                    </button>
                </div>
            </div>
            <div class="card-block container" [hidden]="!personCreate && !sellContractPeopleEdit">
                <form name="editFormPerson" role="form" novalidate (ngSubmit)="save()" #editFormPerson="ngForm">
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <label jhiTranslate="samtagatewayApp.sellContractPerson.person"
                                   for="field_person">Person</label>
                            <app-person-selector widthGrid="600px"
                                                 [selectObject]="false"
                                                 [creator]="true"
                                                 (selectedItem)="personSelected($event)"
                                                 [(ngModel)]="sellContractPerson.personId" required
                                                 [disabled]="isView || sellContractPeopleEdit"
                                                 class="form-control" id="field_person" name="person">
                            </app-person-selector>
                            <div
                                [hidden]="!(editFormPerson.controls.person?.dirty && editFormPerson.controls.person?.invalid)">
                                <small class="form-text text-danger"
                                       [hidden]="!editFormPerson.controls.person?.errors?.required"
                                       jhiTranslate="entity.validation.required">
                                    This field is required.
                                </small>
                            </div>
                            <div [hidden]="!personExists">
                                <small class="form-text text-danger"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.personExists">
                                    This field is required.
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-6">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.sharePercent"
                                       for="field_sharePercent">Share Percent</label>
                                <input type="number" class="form-control" name="sharePercent"
                                       id="field_sharePercent"
                                       [numeric]="{min:0,max:100}"
                                       required
                                       [(ngModel)]="sellContractPerson.sharePercent"/>
                                <div
                                    [hidden]="!(editFormPerson.controls.sharePercent?.dirty && editFormPerson.controls.sharePercent?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editFormPerson.controls.sharePercent?.errors?.required"
                                           jhiTranslate="entity.validation.required">
                                        This field is required.
                                    </small>
                                </div>
                                <div
                                    [hidden]="!sharePercentMax">
                                    <small class="form-text text-danger"
                                           jhiTranslate="samtagatewayApp.sellContractPerson.sharePercentMax">
                                        This field is required.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 col-md-6">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.creditAccount"
                                       for="field_creditAccount">creditAccount</label>
                                <input type="text" class="form-control" name="creditAccount"
                                       id="field_creditAccount"
                                       [(ngModel)]="sellContractPerson.creditAccount"/>
                                <div
                                    [hidden]="!(editFormPerson.controls.creditAccount?.dirty && editFormPerson.controls.creditAccount?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editFormPerson.controls.creditAccount?.errors?.required"
                                           jhiTranslate="entity.validation.required">
                                        This field is required.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.costAccount"
                                       for="field_costAccount">Cost Account</label>
                                <input type="text" class="form-control" name="costAccount" id="field_costAccount"
                                       [(ngModel)]="sellContractPerson.costAccount" minlength="1" maxlength="20"/>
                                <div
                                    [hidden]="!(editForm.controls.costAccount?.dirty && editForm.controls.costAccount?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.costAccount?.errors?.minlength"
                                           jhiTranslate="entity.validation.minlength" translateValues="{ min: 1 }">
                                        This field is required to be at least 1 characters.
                                    </small>
                                    <small class="form-text text-danger"
                                           [hidden]="!editForm.controls.costAccount?.errors?.maxlength"
                                           jhiTranslate="entity.validation.maxlength" translateValues="{ max: 20 }">
                                        This field cannot be longer than 20 characters.
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="card-footer" [hidden]="!personCreate && !sellContractPeopleEdit">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="cancelPerson()">
                    <span class="fa fa-ban"></span>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                </button>
                <button type="button" class="btn btn-primary"
                        [disabled]="editFormPerson.form.invalid || isSaving"
                        (click)="addSellContractPerson()">
                    <span class="fa fa-save"></span>&nbsp;<span
                    jhiTranslate="entity.action.save">Save</span>
                </button>
            </div>
            <p-dataTable [hidden]="personCreate || sellContractPeopleEdit" #dt [value]="sellContract.sellContractPeople"
                         [immutable]="false"
                         [paginator]="false" [responsive]="true" [stacked]="false">

                <p-headerColumnGroup>
                    <p-row>
                        <p-column field="personFullName" [sortable]="true">
                            <ng-template pTemplate="header">
                                <span jhiTranslate="samtagatewayApp.sellContractPerson.person">Person</span>
                            </ng-template>
                        </p-column>
                        <p-column field="sharePercent" [sortable]="true">
                            <ng-template pTemplate="header">
                                <span
                                    jhiTranslate="samtagatewayApp.sellContractPerson.sharePercent">Share Percent</span>
                            </ng-template>
                        </p-column>
                        <p-column styleClass="col-button2" *ngIf="!isView">
                            <ng-template pTemplate="header">
                            </ng-template>
                        </p-column>
                    </p-row>
                </p-headerColumnGroup>

                <p-column field="personFullName"
                          [header]="'samtagatewayApp.sellContractPerson.person' | translate"></p-column>
                <p-column field="sharePercent"
                          [header]="'samtagatewayApp.sellContractPerson.sharePercent' | translate"></p-column>

                <p-column class="component" *ngIf="!isView">
                    <ng-template let-item="rowData" pTemplate="body">
                        <div class="btn-group" ngbDropdown placement="right"
                             *ngIf="!sellContract.id || !sellContract.active">
                            <button type="button" class="btn btn-danger"
                                    (click)="removePerson(item.personId)">
                                <span class="fa fa-remove"></span>
                                <span jhiTranslate="entity.action.delete">delete</span>
                            </button>
                            <button type="button" class="btn btn-info"
                                    (click)="editPerson(item.personId)">
                                <span class="fa fa-edit"></span>
                                <span jhiTranslate="entity.action.edit">edit</span>
                            </button>
                        </div>
                    </ng-template>
                </p-column>
            </p-dataTable>
        </div>
        <br>
        <!--sellContractCustomer-->
        <div class="card"
             *ngIf="sellContract.contractType !== ContractType[ContractType.EXPORT] && sellContract.contractType !== ContractType[ContractType.EXCHANGE]">
            <div class="card-header">
                <div class="row">
                    <h5 class="col-md-3"
                        jhiTranslate="samtagatewayApp.sellContractCustomer.home.cardTitle">
                        Create or edit
                    </h5>
                    <div class="col-md-8"></div>
                    <button type="button" *ngIf="!isView" class="btn btn-primary col-md-1"
                            [disabled]="isView || !sellContract.contractType ||((sellContract.contractType===ContractType[ContractType.SUPPLY_CHANNEL] ||
                            sellContract.contractType===ContractType[ContractType.CONSUMER])&&sellContract.sellContractCustomers?.length > 0)"
                            (click)="newSellContractCustomer()">
                        <span class="fa fa-plus"></span>
                        <span jhiTranslate="entity.action.create">Create</span>
                    </button>
                </div>
            </div>
            <div class="card-block container" [hidden]="!customerCreate && !sellContractCustomerEdit">
                <form name="editFormCustomer" role="form" novalidate #editFormCustomer="ngForm">
                    <div class="row">
                        <div class="col-xs-12"
                             [ngClass]="{
                             'col-md-3': (sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL] || sellContract.contractType === ContractType[ContractType.AIRPLANE]),
                             'col-md-4': (sellContract.contractType === ContractType[ContractType.BRAND]  || sellContract.contractType === ContractType[ContractType.MILITARY]|| sellContract.contractType === ContractType[ContractType.CONSUMER]|| sellContract.contractType === ContractType[ContractType.LIQUID_GAS]),
                             'col-md-6': (sellContract.contractType !== ContractType[ContractType.AIRPLANE] && sellContract.contractType !== ContractType[ContractType.BRAND] && sellContract.contractType !== ContractType[ContractType.LIQUID_GAS] && sellContract.contractType !== ContractType[ContractType.CONSUMER]&& sellContract.contractType !== ContractType[ContractType.MILITARY]&& sellContract.contractType !== ContractType[ContractType.SUPPLY_CHANNEL])
                             }"
                        >
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractCustomer.customer"
                                       for="field_customer">customer</label>
                                <jhi-customer-selector
                                    [multiSelect]="false"
                                    [selectObject]="false"
                                    [creator]="true"
                                    (ngModelChange)="onChangeCustomer($event)"
                                    [disabled]="sellContractCustomerEdit"
                                    [customerHaveSellContract]="false"
                                    [contractType]="sellContract.contractType"
                                    [(ngModel)]="sellContractCustomer.customerId"
                                    class="form-control"
                                    (selectedItem)="customerSelected($event)"
                                    id="field_customer"
                                    [widthGrid]="'800px'"
                                    name="customer" required
                                >
                                </jhi-customer-selector>
                            </div>
                            <div *ngIf="!activeCustomer">
                                <small class="form-text text-danger"
                                       jhiTranslate="error.customer.not.active"></small>
                            </div>
                        </div>
                        <div class="col-xs-12 col-md-3 vertical-center-group"
                             *ngIf="sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL]">
                            <div class="form-group">
                                <input [disabled]="isView || (sellContract.id && sellContractCustomer.active)"
                                       type="checkbox" class="form-control"
                                       name="hasTransport"
                                       id="field_hasTransport"
                                       [(ngModel)]="sellContractCustomer.hasTransport"
                                />
                                <label jhiTranslate="samtagatewayApp.sellContractCustomer.hasTransport"
                                       for="field_hasTransport">Has Transport</label>
                            </div>
                        </div>
                        <div [ngClass]="{
                        'col-md-3': sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL] || sellContract.contractType === ContractType[ContractType.AIRPLANE],
                        'col-md-4': sellContract.contractType !== ContractType[ContractType.SUPPLY_CHANNEL] && sellContract.contractType !== ContractType[ContractType.AIRPLANE]}">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.creditAccount"
                                       for="field_creditAccount2">creditAccount</label>
                                <input type="text" class="form-control" name="creditAccount2"
                                       id="field_creditAccount2"
                                       minlength="1" maxlength="5"
                                       required
                                       [(ngModel)]="sellContractCustomer.creditAccount"/>
                                <div
                                    [hidden]="!(editFormPerson.controls.creditAccount2?.dirty && editFormPerson.controls.creditAccount2?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editFormPerson.controls.creditAccount2?.errors?.required"
                                           jhiTranslate="entity.validation.required">
                                        This field is required.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <div [ngClass]="{
                        'col-md-3': sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL] || sellContract.contractType === ContractType[ContractType.AIRPLANE],
                        'col-md-4': sellContract.contractType !== ContractType[ContractType.SUPPLY_CHANNEL] && sellContract.contractType !== ContractType[ContractType.AIRPLANE]}">
                            <div class="form-group">
                                <label class="form-control-label"
                                       jhiTranslate="samtagatewayApp.sellContractPerson.costAccount"
                                       for="field_creditAccount2">creditAccount</label>
                                <input type="text" class="form-control" name="creditAccount23"
                                       id="field_creditAccount22"
                                       minlength="1" maxlength="5"
                                       required
                                       [(ngModel)]="sellContractCustomer.costAccount"/>
                                <div
                                    [hidden]="!(editFormPerson.controls.creditAccount2?.dirty && editFormPerson.controls.creditAccount2?.invalid)">
                                    <small class="form-text text-danger"
                                           [hidden]="!editFormPerson.controls.creditAccount2?.errors?.required"
                                           jhiTranslate="entity.validation.required">
                                        This field is required.
                                    </small>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngIf="sellContract.contractType === ContractType[ContractType.BRAND]">
                            <div class="col-xs-12"
                                 [ngClass]="{
                        'col-md-6': sellContract.contractType === ContractType[ContractType.BRAND]  || sellContract.contractType === ContractType[ContractType.MILITARY]||sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL] || sellContract.contractType === ContractType[ContractType.CONSUMER] || sellContract.contractType === ContractType[ContractType.LIQUID_GAS],
                        'col-md-3': sellContract.contractType !== ContractType[ContractType.BRAND]  && sellContract.contractType !== ContractType[ContractType.MILITARY]&&sellContract.contractType !== ContractType[ContractType.SUPPLY_CHANNEL] && sellContract.contractType !== ContractType[ContractType.CONSUMER] && sellContract.contractType !== ContractType[ContractType.LIQUID_GAS]}"
                            >
                                <div class="form-group">
                                    <label class="form-control-label"
                                           jhiTranslate="samtagatewayApp.sellContractCustomer.startDate"
                                           for="field_startDatec">Start Date</label>
                                    <div class="d-flex">
                                        <ng2-datetimepicker [disableTime]="true"
                                                            [disabled]="isView || (sellContract.id && sellContractCustomer.active)"
                                                            id="field_startDatec"
                                                            type="datetime-local"
                                                            class="form-control"
                                                            name="startDatec"
                                                            [rtlActive]="true"
                                                            time="00:00:00"
                                                            [(ngModel)]="sellContractCustomer.startDate"
                                                            required></ng2-datetimepicker>
                                    </div>
                                    <div
                                        [hidden]="!(editForm.controls.startDatec?.dirty && editForm.controls.startDatec?.invalid)">
                                        <small class="form-text text-danger"
                                               [hidden]="!editForm.controls.startDatec?.errors?.required"
                                               jhiTranslate="entity.validation.required">
                                            This field is required.
                                        </small>
                                        <small class="form-text text-danger"
                                               [hidden]="!editForm.controls.startDate?.errors?.ZonedDateTimelocal"
                                               jhiTranslate="entity.validation.ZonedDateTimelocal">
                                            This field should be a date and time.
                                        </small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12"
                                 [ngClass]="{
                        'col-md-6': sellContract.contractType === ContractType[ContractType.BRAND]  || sellContract.contractType === ContractType[ContractType.MILITARY]||sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL] || sellContract.contractType === ContractType[ContractType.CONSUMER] || sellContract.contractType === ContractType[ContractType.LIQUID_GAS],
                        'col-md-3': sellContract.contractType !== ContractType[ContractType.BRAND]  && sellContract.contractType !== ContractType[ContractType.MILITARY]&&sellContract.contractType !== ContractType[ContractType.SUPPLY_CHANNEL] && sellContract.contractType !== ContractType[ContractType.CONSUMER] && sellContract.contractType !== ContractType[ContractType.LIQUID_GAS]}"
                            >
                                <div class="form-group">
                                    <label class="form-control-label"
                                           jhiTranslate="samtagatewayApp.sellContractCustomer.finishDate"
                                           for="field_finishDatec">Finish Date</label>
                                    <div class="d-flex">
                                        <ng2-datetimepicker [disableTime]="true" [disabled]="isView"
                                                            id="field_finishDatec"
                                                            type="datetime-local"
                                                            class="form-control"
                                                            name="finishDatec"
                                                            [rtlActive]="true"
                                                            time="23:59:59"
                                                            [(ngModel)]="sellContractCustomer.finishDate"
                                                            required></ng2-datetimepicker>
                                    </div>
                                    <div
                                        [hidden]="!(editForm.controls.finishDatec?.dirty && editForm.controls.finishDatec?.invalid)">
                                        <small class="form-text text-danger"
                                               [hidden]="!editForm.controls.finishDatec?.errors?.required"
                                               jhiTranslate="entity.validation.required">
                                            This field is required.
                                        </small>
                                        <small class="form-text text-danger"
                                               [hidden]="!editForm.controls.finishDatec?.errors?.ZonedDateTimelocal"
                                               jhiTranslate="entity.validation.ZonedDateTimelocal">
                                            This field should be a date and time.
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </form>
            </div>
            <div class="card-footer" [hidden]="!customerCreate && !sellContractCustomerEdit">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="cancelCustomer()">
                    <span class="fa fa-ban"></span>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
                </button>
                <button type="button" class="btn btn-primary"
                        [disabled]="editFormCustomer.form.invalid || isSaving || !activeCustomer"
                        (click)="addSellContractCustomer()">
                    <span class="fa fa-save"></span>&nbsp;<span
                    jhiTranslate="entity.action.save">Save</span>
                </button>
            </div>
            <p-dataTable [hidden]="customerCreate || sellContractCustomerEdit" #dt
                         [value]="sellContract.sellContractCustomers" [immutable]="false"
                         [paginator]="false" [responsive]="true" [stacked]="false">

                <p-headerColumnGroup>
                    <p-row>
                        <p-column field="customerName" [sortable]="true">
                            <ng-template pTemplate="header">
                                <span jhiTranslate="samtagatewayApp.sellContractCustomer.customer">Customer</span>
                            </ng-template>
                        </p-column>
                        <p-column field="hasTransport" [sortable]="true"
                                  *ngIf="sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL]">
                            <ng-template pTemplate="header">
                                <span
                                    jhiTranslate="samtagatewayApp.sellContractCustomer.hasTransport">Has Transport</span>
                            </ng-template>
                        </p-column>
                        <p-column styleClass="col-button2" *ngIf="!isView">
                            <ng-template pTemplate="header">
                            </ng-template>
                        </p-column>
                    </p-row>
                </p-headerColumnGroup>

                <p-column field="customerName"
                          [header]="'samtagatewayApp.sellContractCustomer.customer' | translate"></p-column>
                <p-column field="hasTransport"
                          *ngIf="sellContract.contractType === ContractType[ContractType.SUPPLY_CHANNEL]"
                          [header]="'samtagatewayApp.sellContractCustomer.hasTransport' | translate">
                    <ng-template let-item="rowData" pTemplate="body">
                        <span class="fa"
                              [ngClass]="{'fa-check':item.hasTransport,'fa-close':!item.hasTransport}"></span>
                    </ng-template>
                </p-column>
                <p-column class="component" *ngIf="!isView">
                    <ng-template let-item="rowData" pTemplate="body">
                        <div class="btn-group" ngbDropdown placement="right">
                            <button type="button" class="btn btn-danger"
                                    (click)="removeCustomer(item.customerId)">
                                <span class="fa fa-remove"></span>
                                <span jhiTranslate="entity.action.delete">delete</span>
                            </button>
                            <button type="button" class="btn btn-info"
                                    (click)="editCustomer(item.customerId)">
                                <span class="fa fa-edit"></span>
                                <span jhiTranslate="entity.action.edit">edit</span>
                            </button>
                        </div>
                    </ng-template>
                </p-column>
            </p-dataTable>
        </div>
        <!--location for ContractType EXPORT and EXCHANGE-->
        <div
            *ngIf="sellContract.contractType === ContractType[ContractType.EXPORT] || sellContract.contractType === ContractType[ContractType.EXCHANGE]">

            <div class="form-group">
                <label jhiTranslate="samtagatewayApp.sellContractCustomer.location"
                       for="field_location_sellContract">Location</label>

                <input-location-selector [disabled]="isView"
                                         class="form-control" required
                                         [oneSelection]="false"
                                         [idSelector]="false"
                                         [(ngModel)]="sellContract.locations"
                                         id="field_location_sellContract"
                                         name="location"
                                         [selectOfLevel]="[2]"
                                         [selectByPriority]="true"
                >

                </input-location-selector>
                <div
                    [hidden]="!(editForm.controls.location?.dirty && editForm.controls.location?.invalid)">
                    <small class="form-text text-danger"
                           [hidden]="!editForm.controls.location?.errors?.required"
                           jhiTranslate="entity.validation.required">
                        This field is required.
                    </small>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="clear()">
            <span class="fa fa-ban"></span>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
        </button>
        <button *ngIf="!isView" type="submit"
                [disabled]="editForm.form.invalid || isSaving ||
                (sellContract.contractType !== ContractType[ContractType.EXPORT] && sellContract.contractType !== ContractType[ContractType.EXCHANGE] &&
                    (!this.sellContract.sellContractCustomers || this.sellContract.sellContractCustomers.length <= 0)) ||
                !this.sellContract.sellContractPeople || this.sellContract.sellContractPeople.length <= 0 ||
                 this.customerCreate ||this.sellContractCustomerEdit || this.personCreate|| this.sellContractPeopleEdit"
                class="btn btn-primary">
            <span class="fa fa-save"></span>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
        </button>
    </div>
</form>
